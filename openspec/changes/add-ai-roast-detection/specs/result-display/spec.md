## MODIFIED Requirements

### Requirement: 检测结果展示
系统 SHALL 在用户完成5个采样点选择后（本地检测模式）或AI检测完成后（AI检测模式），自动计算并展示检测结果。

#### Scenario: 显示本地检测结果
- **WHEN** 用户完成5个采样点选择（本地检测模式）
- **THEN** 系统自动计算5个点的L*平均值
- **AND** 系统计算对应的Agtron值和烘焙度描述
- **AND** 系统在结果区域显示：
  - Agtron值（主要结果，大字体显示）
  - 烘焙度描述（如"浅烘"、"中烘"、"深烘"）
  - 颜色细分描述（如"浅棕色"、"深棕色"）
  - 平均L*值（格式化显示，保留2位小数）
- **AND** 系统自动滚动到结果区域，使结果显示在主视觉位置

#### Scenario: 显示AI检测结果
- **WHEN** AI检测完成后（AI检测模式）
- **THEN** 系统解析AI返回的检测结果
- **AND** 系统在结果区域显示：
  - Agtron值（主要结果，大字体显示）
  - 烘焙度描述（如"浅烘"、"中烘"、"深烘"）
  - 颜色细分描述（如"浅棕色"、"深棕色"）
  - L*值（格式化显示，保留2位小数）
- **AND** 系统显示检测来源标识："AI检测结果"
- **AND** 系统自动滚动到结果区域，使结果显示在主视觉位置

### Requirement: 采样点详细信息
系统 SHALL 显示每个采样点的详细信息（本地检测模式），包括坐标和Lab值。

#### Scenario: 显示采样点信息
- **WHEN** 本地检测结果计算完成后
- **THEN** 系统在结果卡片中显示"采样点详情"部分
- **AND** 系统显示每个采样点的Lab值（格式：点X: L*=XX.XX, a*=XX.XX, b*=XX.XX）
- **AND** 采样点按选择顺序编号（点1到点5）

#### Scenario: AI检测结果不显示采样点信息
- **WHEN** AI检测完成后
- **THEN** 系统不显示"采样点详情"部分（AI检测无需采样点）
- **AND** 系统仅显示AI返回的最终检测结果

### Requirement: 结果保存提示
系统 SHALL 在显示检测结果后，提示用户可以将结果保存到历史记录。

#### Scenario: 保存结果提示
- **WHEN** 检测结果计算完成后（本地检测或AI检测）
- **THEN** 系统显示"保存结果"按钮
- **AND** 用户点击后，系统将结果保存到本地存储
- **AND** 系统在保存时记录检测模式（本地检测/AI检测）
- **AND** 系统提示用户"保存成功"

## ADDED Requirements

### Requirement: AI检测状态显示
系统 SHALL 在AI检测过程中显示检测状态，包括上传进度、检测中状态等。

#### Scenario: 显示上传进度
- **WHEN** 用户开始AI检测并上传图片
- **THEN** 系统显示上传进度提示（如"正在上传图片... 50%"）
- **AND** 系统显示加载动画或进度条

#### Scenario: 显示检测中状态
- **WHEN** 图片上传成功，开始AI检测
- **THEN** 系统显示检测状态提示："AI正在分析图片，请稍候..."
- **AND** 系统显示加载动画
- **AND** 系统禁用相关操作按钮，防止重复提交

#### Scenario: 检测完成状态
- **WHEN** AI检测完成
- **THEN** 系统隐藏加载状态提示
- **AND** 系统显示检测结果
- **AND** 系统恢复相关操作按钮
