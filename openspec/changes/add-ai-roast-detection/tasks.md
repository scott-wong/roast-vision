## 1. 云函数开发
- [ ] 1.1 创建云函数目录结构 `cloudfunctions/ai-roast-detection/`
- [ ] 1.2 创建 `package.json`，添加 `openai` 依赖
- [ ] 1.3 实现云函数主逻辑，调用ModelScope API
- [ ] 1.4 实现错误处理和日志记录
- [ ] 1.5 配置云函数环境变量（ModelScope API Key）

## 2. 图片云存储功能
- [ ] 2.1 创建 `miniprogram/utils/cloud-storage.ts` 工具函数
- [ ] 2.2 实现图片上传到CloudBase云存储功能
- [ ] 2.3 实现上传进度显示
- [ ] 2.4 实现上传错误处理

## 3. AI检测前端集成
- [ ] 3.1 创建 `miniprogram/utils/ai-detection.ts` 工具函数
- [ ] 3.2 实现调用云函数进行AI检测的接口
- [ ] 3.3 实现检测结果解析和格式化
- [ ] 3.4 实现检测状态管理（加载中、成功、失败）

## 4. UI交互增强
- [ ] 4.1 在主页面添加"检测模式"选择（本地检测/AI检测）
- [ ] 4.2 实现AI检测模式的UI流程（选择图片 → 上传 → 检测 → 展示结果）
- [ ] 4.3 添加AI检测的加载状态提示
- [ ] 4.4 实现AI检测结果的展示界面

## 5. 结果展示扩展
- [ ] 5.1 扩展结果展示组件，支持AI检测结果格式
- [ ] 5.2 实现AI检测结果与本地检测结果的对比展示（可选）
- [ ] 5.3 保存AI检测结果到历史记录

## 6. 测试和验证
- [ ] 6.1 测试图片上传功能
- [ ] 6.2 测试云函数调用和ModelScope API响应
- [ ] 6.3 测试AI检测结果解析和展示
- [ ] 6.4 测试错误场景（网络错误、API错误等）
- [ ] 6.5 验证AI检测结果的准确性

## 7. 部署和配置
- [ ] 7.1 部署云函数到CloudBase
- [ ] 7.2 配置云存储权限
- [ ] 7.3 配置云函数环境变量
- [ ] 7.4 验证生产环境功能
